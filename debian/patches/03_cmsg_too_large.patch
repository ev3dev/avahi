Index: avahi-core/socket.c
===================================================================
--- avahi-core/socket.c	(revision 1177)
+++ avahi-core/socket.c	(working copy)
@@ -465,10 +465,10 @@
     struct iovec io;
 #ifdef IP_PKTINFO
     struct cmsghdr *cmsg;
-    size_t cmsg_data[( CMSG_SPACE(sizeof(struct in_pktinfo)) / sizeof(size_t)) + 1];
+    uint8_t cmsg_data[CMSG_SPACE(sizeof(struct in_pktinfo))];
 #elif defined(IP_SENDSRCADDR)
     struct cmsghdr *cmsg;
-    size_t cmsg_data[( CMSG_SPACE(sizeof(struct in_addr)) / sizeof(size_t)) + 1];
+    uint8_t cmsg_data[CMSG_SPACE(sizeof(struct in_addr))];
 #endif
 
     assert(fd >= 0);
@@ -551,7 +551,7 @@
     struct msghdr msg;
     struct iovec io;
     struct cmsghdr *cmsg;
-    size_t cmsg_data[(CMSG_SPACE(sizeof(struct in6_pktinfo))/sizeof(size_t)) + 1];
+    size_t cmsg_data[CMSG_SPACE(sizeof(struct in6_pktinfo))];
 
     assert(fd >= 0);
     assert(p);
